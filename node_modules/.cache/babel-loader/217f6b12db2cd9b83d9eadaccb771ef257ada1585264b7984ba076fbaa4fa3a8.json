{"ast":null,"code":"'use client';\n\nvar _jsxFileName = \"E:\\\\Ecoword\\\\eco-world\\\\src\\\\components\\\\animate.js\",\n  _s = $RefreshSig$();\nimport { useRef, useEffect } from 'react';\n// import styles from './page.module.css'\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Animate() {\n  _s();\n  const container = useRef(null);\n  const stickyMask = useRef(null);\n  const initialMaskSize = .8;\n  const targetMaskSize = 30;\n  const easing = 0.15;\n  let easedScrollProgress = 0;\n  useEffect(() => {\n    requestAnimationFrame(animate);\n  }, []);\n  const animate = () => {\n    const maskSizeProgress = targetMaskSize * getScrollProgress();\n    stickyMask.current.style.webkitMaskSize = (initialMaskSize + maskSizeProgress) * 100 + \"%\";\n    requestAnimationFrame(animate);\n  };\n  const getScrollProgress = () => {\n    const scrollProgress = stickyMask.current.offsetTop / (container.current.getBoundingClientRect().height - window.innerHeight);\n    const delta = scrollProgress - easedScrollProgress;\n    easedScrollProgress += delta * easing;\n    return easedScrollProgress;\n  };\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: styles.main,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      ref: container,\n      className: styles.container,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: stickyMask,\n        className: styles.stickyMask,\n        children: /*#__PURE__*/_jsxDEV(\"video\", {\n          autoPlay: true,\n          muted: true,\n          loop: true,\n          children: /*#__PURE__*/_jsxDEV(\"source\", {\n            src: \"/medias/nature.mp4\",\n            type: \"video/mp4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 36,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n}\n_s(Animate, \"F2WI2JxoS+kYzeKKJzTEOzuGlgg=\");\n_c = Animate;\nvar _c;\n$RefreshReg$(_c, \"Animate\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useRef","useEffect","jsxDEV","_jsxDEV","Animate","container","stickyMask","initialMaskSize","targetMaskSize","easing","easedScrollProgress","requestAnimationFrame","animate","maskSizeProgress","getScrollProgress","current","style","webkitMaskSize","scrollProgress","offsetTop","getBoundingClientRect","height","window","innerHeight","delta","className","styles","main","children","ref","autoPlay","muted","loop","src","type","fileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["E:/Ecoword/eco-world/src/components/animate.js"],"sourcesContent":["'use client'\r\nimport { useRef, useEffect } from 'react';\r\n// import styles from './page.module.css'\r\n\r\nexport default function Animate() {\r\n\r\n  const container = useRef(null);\r\n  const stickyMask = useRef(null);\r\n\r\n  const initialMaskSize = .8;\r\n  const targetMaskSize = 30;\r\n  const easing = 0.15;\r\n  let easedScrollProgress = 0;\r\n\r\n  useEffect( () => {\r\n    requestAnimationFrame(animate)\r\n  }, [])\r\n\r\n  const animate = () => {\r\n    const maskSizeProgress = targetMaskSize * getScrollProgress();\r\n    stickyMask.current.style.webkitMaskSize = (initialMaskSize + maskSizeProgress) * 100 + \"%\";\r\n    requestAnimationFrame(animate)\r\n  }\r\n\r\n  const getScrollProgress = () => {\r\n    const scrollProgress = stickyMask.current.offsetTop / (container.current.getBoundingClientRect().height - window.innerHeight)\r\n    const delta = scrollProgress - easedScrollProgress;\r\n    easedScrollProgress += delta * easing;\r\n    return easedScrollProgress\r\n  }\r\n\r\n  return (\r\n    <main className={styles.main}>\r\n      <div ref={container} className={styles.container}>\r\n        <div ref={stickyMask} className={styles.stickyMask}>\r\n          <video autoPlay muted loop>\r\n            <source src=\"/medias/nature.mp4\" type=\"video/mp4\"/>\r\n          </video>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  )\r\n}"],"mappings":"AAAA,YAAY;;AAAA,IAAAA,YAAA;EAAAC,EAAA,GAAAC,YAAA;AACZ,SAASC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AACzC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AAEA,eAAe,SAASC,OAAOA,CAAA,EAAG;EAAAN,EAAA;EAEhC,MAAMO,SAAS,GAAGL,MAAM,CAAC,IAAI,CAAC;EAC9B,MAAMM,UAAU,GAAGN,MAAM,CAAC,IAAI,CAAC;EAE/B,MAAMO,eAAe,GAAG,EAAE;EAC1B,MAAMC,cAAc,GAAG,EAAE;EACzB,MAAMC,MAAM,GAAG,IAAI;EACnB,IAAIC,mBAAmB,GAAG,CAAC;EAE3BT,SAAS,CAAE,MAAM;IACfU,qBAAqB,CAACC,OAAO,CAAC;EAChC,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,OAAO,GAAGA,CAAA,KAAM;IACpB,MAAMC,gBAAgB,GAAGL,cAAc,GAAGM,iBAAiB,CAAC,CAAC;IAC7DR,UAAU,CAACS,OAAO,CAACC,KAAK,CAACC,cAAc,GAAG,CAACV,eAAe,GAAGM,gBAAgB,IAAI,GAAG,GAAG,GAAG;IAC1FF,qBAAqB,CAACC,OAAO,CAAC;EAChC,CAAC;EAED,MAAME,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,MAAMI,cAAc,GAAGZ,UAAU,CAACS,OAAO,CAACI,SAAS,IAAId,SAAS,CAACU,OAAO,CAACK,qBAAqB,CAAC,CAAC,CAACC,MAAM,GAAGC,MAAM,CAACC,WAAW,CAAC;IAC7H,MAAMC,KAAK,GAAGN,cAAc,GAAGR,mBAAmB;IAClDA,mBAAmB,IAAIc,KAAK,GAAGf,MAAM;IACrC,OAAOC,mBAAmB;EAC5B,CAAC;EAED,oBACEP,OAAA;IAAMsB,SAAS,EAAEC,MAAM,CAACC,IAAK;IAAAC,QAAA,eAC3BzB,OAAA;MAAK0B,GAAG,EAAExB,SAAU;MAACoB,SAAS,EAAEC,MAAM,CAACrB,SAAU;MAAAuB,QAAA,eAC/CzB,OAAA;QAAK0B,GAAG,EAAEvB,UAAW;QAACmB,SAAS,EAAEC,MAAM,CAACpB,UAAW;QAAAsB,QAAA,eACjDzB,OAAA;UAAO2B,QAAQ;UAACC,KAAK;UAACC,IAAI;UAAAJ,QAAA,eACxBzB,OAAA;YAAQ8B,GAAG,EAAC,oBAAoB;YAACC,IAAI,EAAC;UAAW;YAAAC,QAAA,EAAAtC,YAAA;YAAAuC,UAAA;YAAAC,YAAA;UAAA,OAAC;QAAC;UAAAF,QAAA,EAAAtC,YAAA;UAAAuC,UAAA;UAAAC,YAAA;QAAA,OAC9C;MAAC;QAAAF,QAAA,EAAAtC,YAAA;QAAAuC,UAAA;QAAAC,YAAA;MAAA,OACL;IAAC;MAAAF,QAAA,EAAAtC,YAAA;MAAAuC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAF,QAAA,EAAAtC,YAAA;IAAAuC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEX;AAACvC,EAAA,CAtCuBM,OAAO;AAAAkC,EAAA,GAAPlC,OAAO;AAAA,IAAAkC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}